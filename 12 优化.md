1. [95 不了解栈与堆](#95-不了解栈与堆)
   1. [栈 VS 堆](#栈-vs-堆)
   2. [逃逸分析](#逃逸分析)


# 95 不了解栈与堆

## 栈 VS 堆

栈是默认内存：它是一种先进先出（LIFO）的数据结构，用于存储特定 goroutine 的所有局部变量。当一个 goroutine 启动时，它会获得 2KB 的连续内存 作为它的栈空间（这个大小随着时间的推移而变化并且可能再次改变）。然而，这个大小在运行时不是固定的，会根据需要增大或缩小（但它在内存中始终保持连续，保持数据局部性）。

栈是自清洁的；它不需要额外的机制，例如 GC

堆内存是所有 goroutine 共享内存池。例如：3个 goroutine G1、G2、 G3 中的每一个都有自己的栈，它们共享同一个堆。

| G1  |  G2   | G3  |
| --- | :---: | --- |
| 栈  |  栈   | 栈   |
|     |  堆   |     |



## 逃逸分析
